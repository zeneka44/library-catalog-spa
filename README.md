# Library Catalog SPA

Веб-приложение каталога книг, позволяющее пользователям просматривать, добавлять и управлять своей коллекцией книг с функцией добавления в избранное.

**Стек:** Next.js 14, React 18, TypeScript, Redux Toolkit, CSS Modules

Live превью: `https://zeneka44.github.io/restaurant-landing-page`

## Установка и запуск

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение доступно по адресу `http://localhost:3000`

### Сборка для продакшена

```bash
npm run build
npm start
```

### Линтинг

```bash
npm run lint
```

## Структура проекта

```
src/
├── app/              # Next.js App Router страницы
│   ├── layout.tsx
│   ├── page.tsx      # Главная страница
│   ├── products/     # Страница списка книг
│   └── create-product/  # Страница добавления книги
├── features/         # Бизнес-логика приложения
│   ├── products/
│   │   ├── slice.ts     # Redux slice
│   │   └── selectors.ts # Redux selectors
│   └── ui/           # UI компоненты
│       ├── ProductCard.tsx
│       ├── ProductsList.tsx
│       └── ProductsFilters.tsx
├── shared/           # Общий код
│   ├── api/          # API клиент
│   └── types/        # TypeScript типы
├── store/            # Redux store настройка
└── styles/           # Глобальные стили
```

## Основные возможности

- **Просмотр каталога**: Загрузка и отображение книг с Open Library API
- **Добавление книг**: Форма с валидацией для добавления новых книг
- **Избранное**: Возможность добавлять/удалять книги в избранное
- **Фильтрация**: Фильтрация по статусу (все книги / избранные)
- **Валидация**: Проверка всех полей при добавлении книги в реальном времени

## Типы данных

### Book

Интерфейс для представления книги в приложении:

```typescript
interface Book {
  id: string;
  title: string;
  authors?: string[];
  description?: string;
  publisher?: string;
  publishedDate?: string;
  imageLinks?: {
    thumbnail?: string;
  };
  isLiked: boolean;
}
```

## Архитектура приложения

Приложение построено с использованием современных паттернов и принципов:

### Redux слой (State Management)

**Файл:** `src/features/products/slice.ts`

Управляет состоянием каталога:
- `items` - массив всех книг в каталоге
- `filter` - текущий фильтр ("all" или "liked")
- `isLoading` - статус загрузки

**Действия:**
- `setProducts` - установка всех книг
- `addProduct` - добавление новой книги
- `deleteProduct` - удаление книги
- `toggleLike` - переключение статуса избранного
- `setFilter` - установка фильтра

### Компоненты

#### ProductsList
Отвечает за отображение списка книг в виде сетки карточек. Использует Redux селектор для получения отфильтрованного списка книг.

#### ProductCard
Компонент карточки книги, отображающий:
- Обложку книги
- Название
- Автора
- Кнопку добавления в избранное
- Возможность просмотра деталей

#### ProductsFilters
Компонент фильтров с кнопками для выбора:
- Все книги
- Избранные книги

Также отвечает за загрузку каталога книг с API при первом открытии приложения.

#### CreateProductForm
Форма для добавления новой книги с полями:
- Название книги (обязательно, минимум 3 символа)
- Автор (обязательно, минимум 2 символа)
- Описание (обязательно, минимум 10 символов)
- Дата публикации (обязательно, не может быть в будущем)

Форма имеет валидацию в реальном времени с выводом сообщений об ошибках.

## Валидация

Валидация осуществляется через функцию `validateField`, которая:
- Проверяет обязательность поля
- Проверяет минимальную длину значения
- Для даты публикации проверяет, что она не в будущем

Ошибки выводятся под полем и подсвечивают его красным бордером при возникновении ошибки валидации.

## API интеграция

### Open Library API

Приложение использует Open Library API для загрузки каталога книг:
- Эндпоинт: `https://openlibrary.org/search.json`
- Загружает 20 книг жанра "fiction" при открытии приложения

**Файл:** `src/shared/api/openlibrary.ts`

## Взаимодействие компонентов

1. **Загрузка**: При монтировании `ProductsFilters` загружает книги, если список пуст
2. **Добавление**: Пользователь заполняет форму на `/create-product` и отправляет данные
3. **Redux**: Новая книга добавляется в Redux состояние через `addProduct`
4. **Отображение**: `ProductsList` автоматически обновляется и показывает новую книгу
5. **Фильтрация**: Селектор `selectFilteredProducts` фильтрует книги по статусу

## Основные страницы

### `/`
Главная страница с редиректом на `/products`

### `/products`
Основная страница каталога с:
- Заголовком "Booklet"
- Кнопкой "Добавить книгу"
- Фильтрами
- Сеткой карточек книг

### `/create-product`
Форма добавления новой книги с:
- Полями ввода с валидацией
- Кнопкой "Добавить книгу"
- Кнопкой отмены (возврат в каталог)
- Сообщениями об ошибках

## Развертывание

```bash
npm run build
```

Готовые файлы находятся в папке `.next`

## Автор

Евгения Федорова
